$(document).ready(function(){!function(){$("#msg").html("加载数据,请稍等..."),$.get("wow/auction/wowtokens",function(t){if(201===t.code)$("#msg").html("获取数据失败:"+t.errorMessage);else{if(t.length>0){var e=t[t.length-1][0]-864e5,a=0,n=0;for(var o in t){var i=t[o][0],l=t[o][1];i>=e&&((0===a||a>l)&&(a=l),(0===n||l>n)&&(n=l))}$("#msg").html("<h3>时光徽章</h3><h4>当前价格: "+t[t.length-1][1]+"G</h4><h4>更新时间: "+new Date(t[t.length-1][0]).format("MM-dd hh:mm:ss")+"</h4><h4>24小时内:</h4><h4>最低价格: "+a+"G</h4><h4>最高价格: "+n+"G</h4>")}if(Highcharts.setOptions({lang:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}}),t.length>0)for(var r in t)t[r][0]=t[r][0]+288e5;var s={chart:{type:"solidgauge"},title:null,pane:{center:["50%","75%"],size:"100%",startAngle:-90,endAngle:90,background:{backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{stops:[[.1,"#55BF3B"],[.5,"#DDDF0D"],[.9,"#DF5353"]],lineWidth:0,minorTickInterval:null,tickPixelInterval:400,tickWidth:0,title:{y:-110},labels:{y:16}},plotOptions:{solidgauge:{dataLabels:{y:-50,borderWidth:0,useHTML:!0}}}};$("#wowtokenBuyContainer").highcharts(Highcharts.merge(s,{yAxis:{min:a,max:n,title:{text:"时光徽章"}},credits:{enabled:!1},series:[{name:"时光徽章",data:[t[t.length-1][1]],dataLabels:{format:'<div style="text-align:center"><span style="font-size:25px;color:'+(Highcharts.theme&&Highcharts.theme.contrastTextColor||"black")+'">{y}G</span></div>'},tooltip:{valueSuffix:"G"}}]})),$("#wowTokenContainer").highcharts("StockChart",{rangeSelector:{selected:1,inputEnabled:!1,buttons:[{type:"day",count:1,text:"日"},{type:"week",count:1,text:"周"},{type:"month",count:1,text:"月"},{type:"month",count:4,text:"季"},{type:"year",count:1,text:"年"},{type:"all",text:"全部"}]},credits:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},title:{text:"[时光徽章]的历史价格"},xAxis:{type:"datetime",dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%m",year:"%Y"}},series:[{name:"价格",type:"area",data:t,tooltip:{valueDecimals:0,valueSuffix:"G"},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},threshold:null}]})}}).fail(function(){$("#msg").html("数据加载出错")})}()});